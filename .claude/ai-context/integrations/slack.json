{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "version": "1.0.0",
  "integration": {
    "name": "Slack",
    "type": "external_api",
    "description": "Collect context from Slack channels/DMs"
  },
  "config": {
    "token": {
      "env": "SLACK_BOT_TOKEN",
      "scopes": ["channels:history", "channels:read", "users:read"]
    }
  },
  "operations": {
    "fetch_messages": {
      "description": "Fetch channel/DM messages",
      "api": "conversations.history",
      "params": ["channel", "limit", "oldest", "latest"]
    },
    "get_user": {
      "description": "Get user info",
      "api": "users.info",
      "params": ["user"]
    },
    "list_channels": {
      "description": "List accessible channels",
      "api": "conversations.list",
      "params": ["types", "limit"]
    }
  },
  "context_extraction": {
    "source": "slack",
    "source_id_format": "{channel_id}_{message_ts}",
    "content_format": "[{user_name}] {text}"
  },
  "sync_api": {
    "endpoint": "/api/sync/slack",
    "methods": {
      "GET": {
        "description": "Get channel list",
        "response": "{ channels: [{id, name}] }"
      },
      "POST": {
        "description": "Sync channel messages to Context",
        "request": "{ channelId: string, limit?: number }",
        "response": "{ success: true }"
      }
    }
  }
}
